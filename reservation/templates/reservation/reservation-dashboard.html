{% extends 'base.html' %}
{% load static %}

{% block title %}Calendar Dashboard{% endblock %}

{% block template %}
    {% include 'navbar-twitter.html' %}<br/>
    <div class="border-bottom border-1 border-dark">
        <div class="container" style="text-align: left">
            <h3>Calendar Booking Dashboard:</h3>
        </div>
    </div><br/>
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'main:home' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'reservation:calendar' %}">Calendar</a></li>
                <li class="breadcrumb-item"><a href="{% url 'reservation:add_event' %}">Make a Reservation</a></li>
                <li class="breadcrumb-item"><a href="{% url 'reservation:running_event' %}">Active Reservation List</a></li>
                <li class="breadcrumb-item"><a href="{% url 'reservation:all_event' %}">All Reservation List</a></li>
                <li class="breadcrumb-item active" aria-current="page">Calendar Dashboard</li>
                <li class="breadcrumb-item"><a href="{% url 'reservation:search_event' %}">Search Reservation</a></li>
            </ol>
        </nav><br/>
        <div class="row">
            <div class="col-md-6 col-lg-3">
                <h5>All Bookings: {{ total_events }}</h5>
            </div>
            <div class="col-md-6 col-lg-3">
                <h5>Active Bookings: {{ running_events.count }}</h5>
            </div>
            <div class="col-md-6 col-lg-3">
                <h5>Past Bookings: {{ past_events }}</h5>
            </div>
            <table class="table table-hover table-bordered">
                <thead>
                <tr role="row">
                    <th style="width: 80px;">ID</th>
                    <th style="width: 220px;">Booker Info</th>
                    <th style="width: 220px;">Start Time</th>
                    <th style="width: 100px;">Duration</th>
                    <th style="width: 220px;">End Time</th>
                    <th style="width: 450px;">Reservation Description</th>
                </tr>
                </thead>
                <tbody>
                {% for event in latest_events %}
                    <tr role="row" class="odd">
                        <td>{{ event.id }}</td>
                        <td>{{ event.booker_data }}</td>
                        <td>{{ event.start_time }}</td>
                        <td>{{ event.duration }}</td>
                        <td>{{ event.end_time }}</td>
                        <td>{{ event.notes }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
